{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "additionalProperties": true,
    "definitions": {
        "AppConfig": {
            "additionalProperties": false,
            "description": "The app config.",
            "properties": {
                "appendOutputHash": {
                    "description": "Appends version hash to the ouput bundled files.",
                    "type": "boolean"
                },
                "assets": {
                    "default": [
                    ],
                    "description": "List of application assets.",
                    "items": {
                        "anyOf": [
                            {
                                "properties": {
                                    "from": {
                                        "anyOf": [
                                            {
                                                "properties": {
                                                    "dot": {
                                                        "type": "boolean"
                                                    },
                                                    "glob": {
                                                        "type": "string"
                                                    }
                                                },
                                                "type": "object"
                                            },
                                            {
                                                "type": "string"
                                            }
                                        ],
                                        "description": "The source file, it can be absolute or relative path or glob pattern."
                                    },
                                    "to": {
                                        "description": "The output root if from is file or dir.",
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            },
                            {
                                "type": "string"
                            }
                        ]
                    },
                    "type": "array"
                },
                "buildTargetOverrides": {
                    "anyOf": [
                        {
                            "properties": {
                                "aot": {
                                    "$ref": "#/definitions/AppConfigOverridable"
                                },
                                "dev": {
                                    "$ref": "#/definitions/AppConfigOverridable"
                                },
                                "dll": {
                                    "$ref": "#/definitions/AppConfigOverridable"
                                },
                                "prod": {
                                    "$ref": "#/definitions/AppConfigOverridable"
                                },
                                "test": {
                                    "$ref": "#/definitions/AppConfigOverridable"
                                }
                            },
                            "type": "object"
                        },
                        {
                            "additionalProperties": {
                                "$ref": "#/definitions/AppConfigOverridable"
                            },
                            "type": "object"
                        }
                    ],
                    "description": "To override properties based on build targets."
                },
                "disableDefaultWebpackConfigs": {
                    "description": "If true, only custom webpack config is processed.",
                    "type": "boolean"
                },
                "dllChunkName": {
                    "default": "vendor",
                    "description": "The output chunk name for dll bundle.",
                    "type": "string"
                },
                "dlls": {
                    "default": [
                    ],
                    "description": "The entries for dll bundle.",
                    "items": {
                        "anyOf": [
                            {
                                "properties": {
                                    "entry": {
                                        "anyOf": [
                                            {
                                                "items": {
                                                    "type": "string"
                                                },
                                                "type": "array"
                                            },
                                            {
                                                "type": "string"
                                            }
                                        ]
                                    },
                                    "excludes": {
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "importToMain": {
                                        "type": "boolean"
                                    }
                                },
                                "type": "object"
                            },
                            {
                                "type": "string"
                            }
                        ]
                    },
                    "type": "array"
                },
                "environmentFile": {
                    "description": "The environment file for the build target.",
                    "type": "string"
                },
                "environmentSource": {
                    "description": "Source file for environment config.",
                    "type": "string"
                },
                "extends": {
                    "description": "Extends the app config from another one. Use the name of another app config.",
                    "type": "string"
                },
                "extractCss": {
                    "description": "Extracts css.",
                    "type": "boolean"
                },
                "faviconConfig": {
                    "default": "favicon-config.json",
                    "description": "The favicon configuration file.",
                    "type": "string"
                },
                "htmlInjectOptions": {
                    "description": "The html injection options.",
                    "properties": {
                        "customTagAttributes": {
                            "items": {
                                "properties": {
                                    "attribute": {
                                        "additionalProperties": {
                                            "type": [
                                                "string",
                                                "boolean"
                                            ]
                                        },
                                        "type": "object"
                                    },
                                    "tagName": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            },
                            "type": "array"
                        },
                        "iconsOutFileName": {
                            "type": "string"
                        },
                        "indexOutFileName": {
                            "type": "string"
                        },
                        "stylesOutFileName": {
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                "index": {
                    "description": "The index html template file.",
                    "type": "string"
                },
                "inlineChunk": {
                    "description": "If true, chunk into 'inline.js'",
                    "type": "boolean"
                },
                "main": {
                    "description": "The main entry for the app.",
                    "type": "string"
                },
                "moduleReplacements": {
                    "description": "Replaces resources that matches resourceRegExp with newResource.",
                    "items": {
                        "properties": {
                            "newResource": {
                                "type": "string"
                            },
                            "resourceRegExp": {
                                "type": "string"
                            }
                        },
                        "type": "object"
                    },
                    "type": "array"
                },
                "name": {
                    "description": "Name for app config.",
                    "type": "string"
                },
                "outDir": {
                    "description": "The output directory for build results.",
                    "type": "string"
                },
                "polyfills": {
                    "anyOf": [
                        {
                            "items": {
                                "type": "string"
                            },
                            "type": "array"
                        },
                        {
                            "type": "string"
                        }
                    ],
                    "default": [
                    ],
                    "description": "The entries for app polyfills to be imported to the main entry."
                },
                "provide": {
                    "additionalProperties": {
                        "type": "string"
                    },
                    "description": "To automatically load modules with alias key.",
                    "type": "object"
                },
                "publicPath": {
                    "description": "The public url address of the output files.",
                    "type": "string"
                },
                "referenceDll": {
                    "description": "To reference dll.",
                    "type": "boolean"
                },
                "root": {
                    "description": "The root directory of the app.",
                    "type": "string"
                },
                "scripts": {
                    "default": [
                    ],
                    "description": "Script entries to be added to the global scope.",
                    "items": {
                        "anyOf": [
                            {
                                "properties": {
                                    "input": {
                                        "type": "string"
                                    },
                                    "lazy": {
                                        "type": "boolean"
                                    },
                                    "output": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            },
                            {
                                "type": "string"
                            }
                        ]
                    },
                    "type": "array"
                },
                "serviceWorker": {
                    "description": "Experimental support for a service worker from @angular/service-worker.",
                    "type": "boolean"
                },
                "skip": {
                    "description": "To skip this app config when bundling.",
                    "type": "boolean"
                },
                "skipCopyAssets": {
                    "description": "Skips copying assets.",
                    "type": "boolean"
                },
                "skipGenerateIcons": {
                    "description": "Skips generating icons.",
                    "type": "boolean"
                },
                "sourceMap": {
                    "description": "Generates sourcemaps.",
                    "type": "boolean"
                },
                "stylePreprocessorOptions": {
                    "description": "Options to pass to style preprocessors",
                    "properties": {
                        "includePaths": {
                            "default": [
                            ],
                            "description": "\"Paths to include. Paths will be resolved to project root.\"",
                            "items": {
                                "type": "string"
                            },
                            "type": "array"
                        }
                    },
                    "type": "object"
                },
                "styles": {
                    "default": [
                    ],
                    "description": "Global script entries to be included in the build. Supported styles are .css, .scss, .less and .stylus.",
                    "items": {
                        "anyOf": [
                            {
                                "properties": {
                                    "input": {
                                        "type": "string"
                                    },
                                    "lazy": {
                                        "type": "boolean"
                                    },
                                    "output": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            },
                            {
                                "type": "string"
                            }
                        ]
                    },
                    "type": "array"
                },
                "target": {
                    "default": "web",
                    "description": "Tells the build system which environment the application is targeting.",
                    "enum": [
                        "async-node",
                        "electron-main",
                        "electron-renderer",
                        "node",
                        "node-webkit",
                        "web",
                        "webworker"
                    ],
                    "type": "string"
                },
                "test": {
                    "description": "The name of the test entry-point file.",
                    "type": "string"
                },
                "tsconfig": {
                    "default": "tsconfig.json",
                    "description": "The typescript configuration file.",
                    "type": "string"
                },
                "vendorChunk": {
                    "description": "If true, chunk into 'inline.js'",
                    "type": "boolean"
                },
                "webpackConfig": {
                    "description": "Custom webpack config.",
                    "type": "string"
                }
            },
            "type": "object"
        },
        "AppConfigOverridable": {
            "additionalProperties": false,
            "properties": {
                "appendOutputHash": {
                    "description": "Appends version hash to the ouput bundled files.",
                    "type": "boolean"
                },
                "assets": {
                    "default": [
                    ],
                    "description": "List of application assets.",
                    "items": {
                        "anyOf": [
                            {
                                "properties": {
                                    "from": {
                                        "anyOf": [
                                            {
                                                "properties": {
                                                    "dot": {
                                                        "type": "boolean"
                                                    },
                                                    "glob": {
                                                        "type": "string"
                                                    }
                                                },
                                                "type": "object"
                                            },
                                            {
                                                "type": "string"
                                            }
                                        ],
                                        "description": "The source file, it can be absolute or relative path or glob pattern."
                                    },
                                    "to": {
                                        "description": "The output root if from is file or dir.",
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            },
                            {
                                "type": "string"
                            }
                        ]
                    },
                    "type": "array"
                },
                "disableDefaultWebpackConfigs": {
                    "description": "If true, only custom webpack config is processed.",
                    "type": "boolean"
                },
                "dllChunkName": {
                    "default": "vendor",
                    "description": "The output chunk name for dll bundle.",
                    "type": "string"
                },
                "dlls": {
                    "default": [
                    ],
                    "description": "The entries for dll bundle.",
                    "items": {
                        "anyOf": [
                            {
                                "properties": {
                                    "entry": {
                                        "anyOf": [
                                            {
                                                "items": {
                                                    "type": "string"
                                                },
                                                "type": "array"
                                            },
                                            {
                                                "type": "string"
                                            }
                                        ]
                                    },
                                    "excludes": {
                                        "items": {
                                            "type": "string"
                                        },
                                        "type": "array"
                                    },
                                    "importToMain": {
                                        "type": "boolean"
                                    }
                                },
                                "type": "object"
                            },
                            {
                                "type": "string"
                            }
                        ]
                    },
                    "type": "array"
                },
                "environmentFile": {
                    "description": "The environment file for the build target.",
                    "type": "string"
                },
                "extractCss": {
                    "description": "Extracts css.",
                    "type": "boolean"
                },
                "faviconConfig": {
                    "default": "favicon-config.json",
                    "description": "The favicon configuration file.",
                    "type": "string"
                },
                "htmlInjectOptions": {
                    "description": "The html injection options.",
                    "properties": {
                        "customTagAttributes": {
                            "items": {
                                "properties": {
                                    "attribute": {
                                        "additionalProperties": {
                                            "type": [
                                                "string",
                                                "boolean"
                                            ]
                                        },
                                        "type": "object"
                                    },
                                    "tagName": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            },
                            "type": "array"
                        },
                        "iconsOutFileName": {
                            "type": "string"
                        },
                        "indexOutFileName": {
                            "type": "string"
                        },
                        "stylesOutFileName": {
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                "index": {
                    "description": "The index html template file.",
                    "type": "string"
                },
                "inlineChunk": {
                    "description": "If true, chunk into 'inline.js'",
                    "type": "boolean"
                },
                "main": {
                    "description": "The main entry for the app.",
                    "type": "string"
                },
                "moduleReplacements": {
                    "description": "Replaces resources that matches resourceRegExp with newResource.",
                    "items": {
                        "properties": {
                            "newResource": {
                                "type": "string"
                            },
                            "resourceRegExp": {
                                "type": "string"
                            }
                        },
                        "type": "object"
                    },
                    "type": "array"
                },
                "outDir": {
                    "description": "The output directory for build results.",
                    "type": "string"
                },
                "polyfills": {
                    "anyOf": [
                        {
                            "items": {
                                "type": "string"
                            },
                            "type": "array"
                        },
                        {
                            "type": "string"
                        }
                    ],
                    "default": [
                    ],
                    "description": "The entries for app polyfills to be imported to the main entry."
                },
                "provide": {
                    "additionalProperties": {
                        "type": "string"
                    },
                    "description": "To automatically load modules with alias key.",
                    "type": "object"
                },
                "publicPath": {
                    "description": "The public url address of the output files.",
                    "type": "string"
                },
                "referenceDll": {
                    "description": "To reference dll.",
                    "type": "boolean"
                },
                "root": {
                    "description": "The root directory of the app.",
                    "type": "string"
                },
                "scripts": {
                    "default": [
                    ],
                    "description": "Script entries to be added to the global scope.",
                    "items": {
                        "anyOf": [
                            {
                                "properties": {
                                    "input": {
                                        "type": "string"
                                    },
                                    "lazy": {
                                        "type": "boolean"
                                    },
                                    "output": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            },
                            {
                                "type": "string"
                            }
                        ]
                    },
                    "type": "array"
                },
                "serviceWorker": {
                    "description": "Experimental support for a service worker from @angular/service-worker.",
                    "type": "boolean"
                },
                "skip": {
                    "description": "To skip this app config when bundling.",
                    "type": "boolean"
                },
                "skipCopyAssets": {
                    "description": "Skips copying assets.",
                    "type": "boolean"
                },
                "skipGenerateIcons": {
                    "description": "Skips generating icons.",
                    "type": "boolean"
                },
                "sourceMap": {
                    "description": "Generates sourcemaps.",
                    "type": "boolean"
                },
                "stylePreprocessorOptions": {
                    "description": "Options to pass to style preprocessors",
                    "properties": {
                        "includePaths": {
                            "default": [
                            ],
                            "description": "\"Paths to include. Paths will be resolved to project root.\"",
                            "items": {
                                "type": "string"
                            },
                            "type": "array"
                        }
                    },
                    "type": "object"
                },
                "styles": {
                    "default": [
                    ],
                    "description": "Global script entries to be included in the build. Supported styles are .css, .scss, .less and .stylus.",
                    "items": {
                        "anyOf": [
                            {
                                "properties": {
                                    "input": {
                                        "type": "string"
                                    },
                                    "lazy": {
                                        "type": "boolean"
                                    },
                                    "output": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            },
                            {
                                "type": "string"
                            }
                        ]
                    },
                    "type": "array"
                },
                "test": {
                    "description": "The name of the test entry-point file.",
                    "type": "string"
                },
                "tsconfig": {
                    "default": "tsconfig.json",
                    "description": "The typescript configuration file.",
                    "type": "string"
                },
                "vendorChunk": {
                    "description": "If true, chunk into 'inline.js'",
                    "type": "boolean"
                },
                "webpackConfig": {
                    "description": "Custom webpack config.",
                    "type": "string"
                }
            },
            "type": "object"
        },
        "BuildOptions": {
            "additionalProperties": false,
            "description": "Build options.",
            "properties": {
                "aot": {
                    "description": "Set true for AoT build target.",
                    "type": "boolean"
                },
                "app": {
                    "anyOf": [
                        {
                            "items": {
                                "type": "string"
                            },
                            "type": "array"
                        },
                        {
                            "type": "string"
                        }
                    ],
                    "description": "To build only specific app. Use app's name."
                },
                "appendOutputHash": {
                    "description": "Appends version hash to the ouput files.",
                    "type": "boolean"
                },
                "dll": {
                    "description": "Set true for Dll build target.",
                    "type": "boolean"
                },
                "environment": {
                    "additionalProperties": {
                        "type": "string"
                    },
                    "description": "Additional build target environment.",
                    "type": "object"
                },
                "extractCss": {
                    "description": "Extracts css.",
                    "type": "boolean"
                },
                "performanceHint": {
                    "default": false,
                    "description": "Show performance hints.",
                    "type": "boolean"
                },
                "production": {
                    "description": "Set true for production build target.",
                    "type": "boolean"
                },
                "progress": {
                    "description": "Shows progress.",
                    "type": "boolean"
                },
                "referenceDll": {
                    "description": "To reference dlls for all apps.",
                    "type": "boolean"
                },
                "skipCopyAssets": {
                    "description": "Skips copying assets.",
                    "type": "boolean"
                },
                "skipGenerateIcons": {
                    "description": "Skips generating icons.",
                    "type": "boolean"
                },
                "sourceMap": {
                    "description": "Generates sourcemaps.",
                    "type": "boolean"
                },
                "test": {
                    "description": "Set true for test build target.",
                    "type": "boolean"
                },
                "typescriptWebpackTool": {
                    "description": "Typescript webpack tool",
                    "enum": [
                        "@ngtools/webpack",
                        "ngc-webpack"
                    ],
                    "type": "string"
                },
                "verbose": {
                    "default": false,
                    "description": "If true, the console displays detailed diagnostic information.",
                    "type": "boolean"
                }
            },
            "type": "object"
        },
        "TestOptions": {
            "additionalProperties": false,
            "description": "Test options.",
            "properties": {
                "codeCoverage": {
                    "anyOf": [
                        {
                            "properties": {
                                "disabled": {
                                    "type": "boolean"
                                },
                                "exclude": {
                                    "items": {
                                        "type": "string"
                                    },
                                    "type": "array"
                                }
                            },
                            "type": "object"
                        },
                        {
                            "type": "boolean"
                        }
                    ],
                    "description": "Generate code ceverage report"
                },
                "defaultTestApp": {
                    "description": "Default test app name.",
                    "type": "string"
                }
            },
            "type": "object"
        }
    },
    "description": "Angular build config schema.",
    "properties": {
        "apps": {
            "description": "Properties of the different applications in this project.",
            "items": {
                "$ref": "#/definitions/AppConfig"
            },
            "minItems": 1,
            "type": "array"
        },
        "buildOptions": {
            "$ref": "#/definitions/BuildOptions",
            "description": "Build options."
        },
        "test": {
            "$ref": "#/definitions/TestOptions",
            "description": "Test options."
        }
    },
    "type": "object"
}

