import * as path from 'path';


export function findFileOrDirectoryFromPossibleAsync(baseDir: string, possibleNames: string[], preferredName?: string, isDir?: boolean) {
    const tasks = possibleNames.map(name => {
        const pathToFind = path.resolve(baseDir, name);
        return checkFileOrDirectoryExistsAsync(pathToFind, isDir)
            .then(exists => exists ? name : null);
    });

    return Promise.all(tasks)
        .then((foundList:string[]) => {
            if (preferredName) {
                return foundList.find(f => f === preferredName) || foundList.find(f => f && f !== null);
            }
            return foundList.find(f => f && f !== null);
        });
}



